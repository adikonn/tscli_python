# tsweb_py

CLI клиент для системы тестирования TestSys (tsweb.ru/t/)

## Установка

```bash
cd tsweb_cli_new
pip install -e .
```

## Использование

### Первый запуск

1. **Авторизация:**
```bash
tsweb_py login
```

2. **Выбор контеста:**
```bash
tsweb_py local set-contest
```

### Основные команды

**Просмотр информации о контесте:**
```bash
tsweb_py local show
```
Показывает текущий контест, список задач и доступные компиляторы (данные загружаются с сайта)

**Просмотр информации о пользователе:**
```bash
tsweb_py info
```

**Отправка решения:**
```bash
tsweb_py submit solution.cpp -p 12A -l 1
```
где `-p` - задача, а `-l` - компилятор (по порядку, удобнее ставить по дефолту `tsweb_py local set-compiler`)

Или автоматически определить задачу по имени файла:
```bash
tsweb_py submit 12A.cpp
```

**Просмотр посылок:**
```bash
tsweb_py submissions
```

**Просмотр детальных результатов конкретной посылки:**
```bash
tsweb_py feedback <submission_id>
```
Полезно для отладки, если результаты тестов не отобразились автоматически после submit

**Установка компилятора по умолчанию:**
```bash
tsweb_py local set-compiler
```
Загружает список компиляторов с сайта и позволяет выбрать дефолтный

### Структура файлов

- `~/.tsweb_py.global` - глобальная конфигурация (логин и пароль)
- `~/.tsweb_py.cookies` - cookies сессии (включая contest_id) - сохраняются через pickle
- `.tsweb_py.local` - локальная конфигурация (только default_lang - индекс компилятора по умолчанию)

## Возможности

- Автоматическая авторизация и сохранение сессии
- Переключение между контестами
- Отправка решений с отслеживанием результатов в реальном времени
- Просмотр всех посылок
- Детальная информация о тестах
- Цветной вывод результатов (OK, WA, TL и т.д.)
- Динамическая загрузка задач и компиляторов с сайта (без необходимости парсинга)

## Требования

- Python 3.8+
- requests
- click
- beautifulsoup4
- lxml
- rich
